# Monitoring Code Engine Projects and Applications

**Learning Objectives:**
- Understand serverless application monitoring within a comprehensive infrastructure stack
- Learn to correlate application-level events with platform-level infrastructure metrics
- Practice monitoring containerized applications and their resource consumption patterns
- Explore how serverless observability integrates with enterprise monitoring architectures

In this section, you'll learn how Code Engine applications fit within the broader observability stack and how to monitor serverless platforms for any containerized workload deployment.


## About Code Engine

IBM Cloud Code Engine is a fully managed, serverless platform that runs containerized workloads, including web apps, micro-services, event-driven functions, or batch jobs. Code Engine can even build container images from your source code, and all workloads can work together because they're hosted within the same Kubernetes infrastructure.

![](images/50-1.png ':size=600')

> **ðŸ’¡ TIP:** Code Engine scales to zero when not in use, which can significantly reduce costs. However, this means you need to monitor cold starts if your application requires consistent performance. Look for patterns in scaling events to optimize your configuration.

## Monitoring Code Engine

You can monitor Code Engine using multiple IBM Cloud services:

- **IBM Cloud Logs**:
  - Monitor platform logs for operational activities and troubleshooting
  - Track activity events for administrative actions. See [Activity tracking events for Code Engine](https://cloud.ibm.com/docs/codeengine?topic=codeengine-at_events).

- **IBM Cloud Monitoring**:
  - Monitor health and performance through platform metrics
  - Use predefined dashboards for comprehensive visibility

## Serverless Monitoring in Enterprise Context

Code Engine represents one layer in our comprehensive infrastructure stack. Effective monitoring requires understanding:

- **Application performance**: Container metrics, scaling events, and resource utilization
- **Platform integration**: How serverless apps connect with databases, storage, and AI services
- **Cross-service troubleshooting**: Correlating application issues with underlying infrastructure problems
- **Operational visibility**: Monitoring deployment pipelines, builds, and application lifecycle events


## Monitoring Code Engine Applications through IBM Cloud Logs

When you deploy the RAG Pattern, it creates two Code Engine projects:
- **rag-Generative_AI_Sample_App_CD_Project**
- **rag-Generative_AI_Sample_App_CI_Project**

To monitor logs generated by these applications, use these query patterns:

- `serviceName:"codeengine"` - Filter all Code Engine logs
- `label.Project:"<project_name>"` - Filter logs for a specific project
- `_app:"<component_name>"` - Filter logs from a specific component (application, job, or build)

Follow these steps:

1. Navigate to **Menu icon > Observability > Logging > Instances > Cloud Logs**.

2. For the **rag-cloud-logs** instance, click **Dashboard**, then **Explore Logs > Logs**.

3. Try these useful queries (adjust the timestamp if needed):

   **Filter logs for the CI project:**
   ```
   serviceName:"codeengine" AND label.Project:"rag-Generative_AI_Sample_App_CI_Project"
   ```

    ![](images/50-2.png ':size=600')

   **Filter logs for an application:**
   ```
   serviceName:"codeengine" AND _app:"rag-sample-app"
   ```

    ![](images/50-3.png ':size=600')

   **Filter logs for a specific revision:**
   ```
   serviceName:"codeengine" AND _app:"rag-sample-app-00001"
   ```

   **Filter logs for a deployment:**
   ```
   serviceName:"codeengine" AND _app:"rag-sample-app-00001-deployment"
   ```

4. Explore the Logs UI features to customize your view:
   - Add/remove columns to focus on relevant data
   - Adjust the format of displayed data

    ![](images/50-4.png ':size=200')

   - Explore options per log line

    ![](images/50-5.png ':size=200')

   - Use field selection options to filter and analyze logs

    ![](images/50-6.png ':size=600')

> **ðŸ’¡ TIP:** When troubleshooting Code Engine applications, start with broader queries and gradually add filters to narrow down to specific components or time ranges. This helps you understand the context before focusing on specific issues.

## Monitoring Code Engine Activity Events through IBM Cloud Logs

Code Engine generates activity events for CRUD operations on resources like projects, applications, configmaps, secrets, jobs, and subscriptions. These events help you track changes and audit activities.

Follow these steps:

1. Navigate to **Menu icon > Observability > Logging > Instances > Cloud Logs**.

2. For the **rag-cloud-logs** instance, click **Dashboard**, then **Explore Logs > Logs**.

3. Apply these filters:
   - For **Application**, select **ibm-audit-event**
   - For **Subsystems**, select entries including **codeengine:<ProjectID>** (each project has its own subsystem)

    ![](images/50-7.png ':size=200')

4. Try these useful queries:

   **Monitor resource deletions:**
   ```
   serviceName:"codeengine" AND action.keyword:/codeengine.*.delete/
   ```

   > **Note:** If you don't see deletion events, try `read` instead to verify your query is working correctly.

    ![](images/50-8.png ':size=600')

   **Monitor application activity:**
   ```
   serviceName:"codeengine" AND action.keyword:/codeengine.application.*/
   ```

5. Explore the **Code Engine - Management Overview** dashboard:
   - Navigate to **Dashboards > Custom Dashboards**
   - In the Dashboard List, select **Activity Tracking > Code Engine > Code Engine - Management Overview**

    ![](images/50-9.png ':size=200')

> **ðŸ’¡ TIP:** After making configuration changes to your applications, check the activity logs to verify the changes were applied correctly. Look for any error patterns that might indicate configuration issues.

## Monitoring Application Health in IBM Cloud Monitoring

IBM Cloud Monitoring provides visibility into the health and performance of Code Engine workloads through comprehensive metrics. The **IBM Code Engine Project Overview** dashboard includes panels that monitor various aspects of your applications.

Follow these steps to create a custom monitoring dashboard:

1. Navigate to **Menu icon > Observability > Monitoring > Instances**.

    ![](images/30-12.png ':size=600')

2. For the **rag-cloud-monitoring** instance, click **Dashboard**, then **Dashboards > IBM**.

    ![](images/30-13.png ':size=600')

3. Select the **IBM Code Engine Project Overview** dashboard template.

    ![](images/50-14.png ':size=600')

4. Click **Create Custom Dashboard** to make a copy, enter a name for your dashboard, and click **Create and open**.

5. Customize your dashboard by adding or removing panels. Focus on metrics relevant to your needs, such as:
   - Running instances of your applications
   - Scaling events
   - CPU and memory utilization
   - Request latency

6. Click **Save Layout** whenever you change the dashboard layout, then **Save** to save your custom dashboard. Access it later via **Dashboards > My Dashboards**.

> **ðŸ’¡ TIP:** For production applications, create dashboards that show both Code Engine metrics and the services your application depends on (databases, storage, etc.). This gives you a complete view of your application stack and helps identify whether performance issues are in your code or dependent services.

6. Click **Save** to save the custom dashboard. The custom dashboard is available in the dashboard navigation menu, **Dashboards > My Dashboards**.


â‡¨ [Continue to Database Service Monitoring](60-elasticsearch.md)
